if("undefined"===typeof ImageDisplay)var ImageDisplay={init:function(){this.viewer||(this.viewer=new ImageDisplay.Viewer,this.viewer.init())},openViewer:function(g){this.viewer.show();this.viewer.showImage(g)}};ImageDisplay.Image=function(g,c,e){function d(){for(var a=g,b=-1;null!=(a=a.previousSibling);)b++;return b}function f(){var a=$('<img style="display:none" />');a.load(function(){$(c).attr("src",$(this).attr("src"))});a.attr("src",$(c).attr("data-src"))}function a(a){b-=a.deltaY/100;.1>b&&(b=.1);6<b&&(b=6);$(c).css("transform","scale("+b+")")}var b=1;this.init=function(){var b=d();g.addEventListener("click",function(){ImageDisplay.openViewer(b)},!1);c.parentElement.addEventListener("mousewheel",a.bind(this));
f()};this.show=function(){$(c).addClass("current");$(e).addClass("current")};this.hide=function(){$(c).removeClass("current");$(e).removeClass("current")}};ImageDisplay.Viewer=function(){function g(a){switch(a.keyCode||a.which){case 27:this.hide()}}function c(){[].forEach.call(document.getElementsByClassName("layout-image-display-gallery-image"),function(a,b){var c=document.getElementsByClassName("layout-image-display-image")[b],d=document.getElementsByClassName("element-set")[b];e.push(new ImageDisplay.Image(a,c,d));e[b].init()}.bind(this))}var e=[],d=null,f=null;this.init=function(){f=document.getElementById("image-display");f.addEventListener("keydown",
g.bind(this));c()};this.show=function(){$(f).removeClass("hidden");f.focus()};this.hide=function(){$(f).addClass("hidden");null!==d&&e[d].hide();d=null};this.showImage=function(a){a>=e.length?console.error("The image with index "+a+" does not exist."):(null!==d&&e[d].hide(),e[a].show(),d=a)}};$=jQuery;$(document).ready(function(){ImageDisplay.init()});
