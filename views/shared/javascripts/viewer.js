if("undefined"===typeof ImageDisplay)var ImageDisplay={init:function(){this.viewer||(this.viewer=new ImageDisplay.Viewer,this.viewer.init())},openViewer:function(f){this.viewer.show();this.viewer.showImage(f)}};ImageDisplay.Image=function(f,d,b){function c(){for(var a=f,b=-1;null!=(a=a.previousSibling);)b++;return b}function e(){var a=$('<img style="display:none" />');a.load(function(){$(d).attr("src",$(this).attr("src"))});a.attr("src",$(d).attr("data-src"))}function a(a){console.log(a)}this.init=function(){var b=c();f.addEventListener("click",function(){ImageDisplay.openViewer(b)},!1);d.addEventListener("mousewheel",a.bind(this));e()};this.show=function(){$(d).addClass("current");$(b).addClass("current")};
this.hide=function(){$(d).removeClass("current");$(b).removeClass("current")}};ImageDisplay.Viewer=function(){function f(a){a=a.keyCode||a.which;switch(a){case 27:this.hide();break;default:console.log("Keypress received: "+a)}}function d(){[].forEach.call(document.getElementsByClassName("layout-image-display-gallery-image"),function(a,c){var d=document.getElementsByClassName("layout-image-display-image")[c],e=document.getElementsByClassName("element-set")[c];b.push(new ImageDisplay.Image(a,d,e));b[c].init()}.bind(this))}var b=[],c=null,e=null;this.init=function(){e=document.getElementById("image-display");
e.addEventListener("keydown",f.bind(this));d()};this.show=function(){$(e).removeClass("hidden");e.focus()};this.hide=function(){$(e).addClass("hidden");null!==c&&b[c].hide();c=null};this.showImage=function(a){a>=b.length?console.error("The image with index "+a+" does not exist."):(null!==c&&b[c].hide(),b[a].show(),c=a)}};$=jQuery;$(document).ready(function(){ImageDisplay.init()});
